{% extends "_base.html" %}

{% block head %}
{{ super() }}
<style>
  body{
    height:100vh;
    width:100vw;
    display:grid;
    grid-template-rows:auto 1fr
    }

  .chartWrapper{
    overflow-x: auto;
  }

  .canvasAdjust{
    height: calc(100vh - 56px);
    width: calc({{ match_cnt }}*50px);
    min-width: 100%;
  }

</style>
{% endblock %}

{% block content %}
<div class="card">
    <div class="container chartWrapper">
      <div class="canvasAdjust">
        <canvas id="board"></canvas>
      </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script>
  // override default chart settings
  Chart.defaults.global.elements.line.fill = false;

  // draw line chart
  var ctx = document.getElementById('board').getContext('2d');
  var chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: {{match_labels | tojson}},
      datasets: {{datasets | tojson}},
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      tooltips: {
        mode: 'index',
        intersect: false,
      }
    }
  })
</script>
<script>
$( "div.chartWrapper" ).scrollLeft( document.getElementById('board').width );
</script>

{% endblock %}
